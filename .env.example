# GHMD Editor Environment Configuration
# Copy this file to .env and configure your values

# =============================================================================
# GENERAL APPLICATION SETTINGS
# =============================================================================

# Environment (development, production, test)
NODE_ENV=production

# Server Ports
BACKEND_PORT=3000
FRONTEND_PORT=80

# Nginx Configuration (for production)
NGINX_HOST=localhost
NGINX_PORT=80

# =============================================================================
# AUTHENTICATION & SECURITY
# =============================================================================

# JWT Secret for token signing (REQUIRED - generate a secure random string)
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production

# OpenID Connect Configuration (REQUIRED for authentication)
OIDC_ISSUER=https://your-oidc-provider.com
OIDC_CLIENT_ID=your-client-id
OIDC_CLIENT_SECRET=your-client-secret
OIDC_REDIRECT_URI=http://localhost:5173/auth/callback
OIDC_SCOPE=openid profile email

# =============================================================================
# GIT REPOSITORY CONFIGURATION
# =============================================================================

# Git Provider (github, gitlab, gitea) - choose one
GIT_PROVIDER=github

# GitHub Configuration (if using GitHub)
GITHUB_TOKEN=ghp_your_github_personal_access_token
GITHUB_OWNER=your-github-username-or-org
GITHUB_REPO=your-repository-name
GITHUB_BASE_URL=https://api.github.com

# GitLab Configuration (if using GitLab)
GITLAB_TOKEN=glpat-your_gitlab_access_token
GITLAB_PROJECT_ID=12345
GITLAB_URL=https://gitlab.com

# Gitea Configuration (if using Gitea)
GITEA_TOKEN=your_gitea_access_token
GITEA_OWNER=your-gitea-username-or-org
GITEA_REPO=your-repository-name
GITEA_URL=https://your-gitea-instance.com

# Git Path (optional subfolder)
GIT_PATH=

# =============================================================================
# SCHEMA REPOSITORY CONFIGURATION
# =============================================================================

# Schema Repository Configuration
SCHEMA_REPO_ENABLED=true
SCHEMA_REPO_TYPE=git
SCHEMA_LOCAL_FALLBACK=true
SCHEMA_CACHE_TIMEOUT=300

# Git-based Schema Repository (recommended approach)
SCHEMA_REPO_URL=https://github.com/your-org/agent-schemas.git
SCHEMA_PULL_INTERVAL=300
SCHEMA_SHALLOW_CLONE=true
SCHEMA_AUTO_CLEANUP=true

# API-based Schema Repository (fallback method)
SCHEMA_GIT_PLATFORM=github
SCHEMA_GIT_TOKEN=your_token_here
SCHEMA_GIT_OWNER=your-org
SCHEMA_GIT_REPO=agent-schemas
SCHEMA_GIT_BASE_URL=https://api.github.com

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================

# CORS Origin for frontend requests (production: frontend domain, dev: localhost:5173)
CORS_ORIGIN=http://localhost

# Default namespace for new files
DEFAULT_NAMESPACE=shared

# Logging level (error, warn, info, debug)
LOG_LEVEL=info

# =============================================================================
# FRONTEND BUILD CONFIGURATION
# =============================================================================

# Base URL for API calls (production: /api for nginx proxy, dev: http://localhost:3000)
VITE_API_BASE_URL=/api

# Application title
VITE_APP_TITLE=GHMD Editor

# =============================================================================
# NGINX CONFIGURATION (PRODUCTION)
# =============================================================================

# Nginx host and port configuration
NGINX_HOST=localhost
NGINX_PORT=80

# =============================================================================
# DEVELOPMENT OVERRIDES
# =============================================================================

# Uncomment these for development environment
# NODE_ENV=development
# LOG_LEVEL=debug
# JWT_SECRET=dev-secret-key-change-in-production
# OIDC_REDIRECT_URI=http://localhost:5173/auth/callback
# CORS_ORIGIN=http://localhost:5173
# VITE_API_BASE_URL=http://localhost:3000
# VITE_APP_TITLE=GHMD Editor (Dev)